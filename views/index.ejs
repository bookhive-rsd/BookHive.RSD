<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="google-site-verification" content="BDToWZC0fXPpOmjSjtAUGtt93C60RhSFjKoANDY3-ZY" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="description" content="BookHive - Your digital library to upload, organize, share, and read books seamlessly.">
  <meta name="theme-color" content="#0a66c2">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="BookHive">
  <meta name="format-detection" content="telephone=no">
  <meta name="format-detection" content="email=no">
  <title>BookHive - Your Digital Library</title>
  <link rel="manifest" href="/manifest.json" />
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/chat.css">
  <link rel="stylesheet" href="/css/responsive-zoom.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Socket.IO client -->
  <script src="/socket.io/socket.io.js"></script>
  <style>
      * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      color: #333;
      background-color: #f9fafb;
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Header */
    .header {
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      padding: 1rem 0;
      margin-bottom: 2rem;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    
    .header .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo-section {
      display: flex;
      align-items: center;
    }

    .logo-section a {
      text-decoration: none;
    }

    .logo-section .logo {
      max-width: 150px;
      height: auto;
    }

    .nav-menu {
      display: flex;
      gap: 20px;
      align-items: center;
    }

    .nav-link {
      text-decoration: none;
      color: #666;
      font-weight: 500;
      transition: color 0.3s;
      padding: 0.5rem;
    }

    .nav-link:hover {
      color: var(--primary-color, #0a66c2);
    }

    .nav-link.active {
      color: var(--primary-color, #0a66c2);
      border-bottom: 2px solid var(--primary-color, #0a66c2);
    }

    .btn-nav-signup {
      background: var(--primary-color, #0a66c2);
      color: #fff;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      border: none;
    }

    .btn-nav-signup:hover {
      background: #0851a8;
    }

    .hamburger {
      display: none;
      font-size: 24px;
      cursor: pointer;
      color: #333;
      transition: color 0.3s;
    }

    .hamburger:hover {
      color: var(--primary-color, #0a66c2);
    }

    /* Hero Section */
    .hero {
      background: linear-gradient(135deg, var(--primary-color, #0a66c2), #0851a8);
      color: #fff;
      padding: 4rem 0;
    }

    .hero .container {
      display: flex;
      align-items: center;
      gap: 40px;
    }

    .hero-content {
      flex: 1;
    }

    .hero-content h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      font-weight: 700;
    }

    .hero-content .highlight {
      color: #ffc107;
    }

    .hero-content p {
      font-size: 1.1rem;
      margin-bottom: 2rem;
      opacity: 0.95;
    }

    .hero-image {
      flex: 1;
    }

    .hero-image img {
      max-width: 100%;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .cta-buttons {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
    }

    .btn {
      padding: 0.75rem 1.5rem;
      text-decoration: none;
      border-radius: 4px;
      font-weight: 600;
      transition: all 0.3s;
      border: none;
      cursor: pointer;
      display: inline-block;
    }

    .btn-primary {
      background: #ffc107;
      color: #333;
    }

    .btn-primary:hover {
      background: #ffb300;
      transform: translateY(-2px);
    }

    .btn-secondary {
      background: transparent;
      border: 2px solid #fff;
      color: #fff;
    }

    .btn-secondary:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: translateY(-2px);
    }
      color: #333;
    }

    /* Features Section */
    .features {
      padding: 3rem 0;
      background: #f9f9f9;
    }

    .features h2 {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 2.5rem;
      color: #333;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5rem;
    }

    .feature-card {
      background: #fff;
      padding: 1.5rem;
      border-radius: 8px;
      text-align: center;
      text-decoration: none;
      color: #333;
      transition: transform 0.3s, box-shadow 0.3s;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .feature-card i {
      color: var(--primary-color, #0a66c2);
      margin-bottom: 1rem;
      font-size: 2.5rem;
    }

    .feature-card h3 {
      font-size: 1.3rem;
      margin-bottom: 0.5rem;
      color: #333;
    }

    .feature-card p {
      color: #666;
      font-size: 0.95rem;
      line-height: 1.5;
    }

    /* Applications Section */
    .applications {
      padding: 3rem 0;
      background: #fff;
    }

    .applications h2 {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 2.5rem;
      color: #333;
    }

    .applications-container {
      overflow: hidden;
      position: relative;
      width: 100%;
    }

    .applications-scroller {
      display: flex;
      white-space: normal;
      animation: scroll 20s linear infinite;
      gap: 1.5rem;
    }

    .application-card {
      flex: 0 0 auto;
      width: 220px;
      background: #fff;
      padding: 1.5rem;
      border-radius: 8px;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      text-decoration: none;
      color: #333;
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .application-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .application-card img {
      width: 100%;
      height: 120px;
      object-fit: scale-down;
      border-radius: 6px;
      margin-bottom: 1rem;
    }

    .application-card i {
      color: var(--primary-color, #0a66c2);
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    .application-card h3 {
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
      color: #333;
    }

    .application-card p {
      color: #666;
      font-size: 0.85rem;
      line-height: 1.4;
    }

    @keyframes scroll {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-50%);
      }
    }

    /* Pause animation on hover */
    .applications-container:hover .applications-scroller {
      animation-play-state: paused;
    }

    /* Testimonials Section */
    .testimonials {
      padding: 3rem 0;
      background: #f9f9f9;
    }

    .testimonials h2 {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 2.5rem;
      color: #333;
    }

    .testimonial-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
    }

    .testimonial-card {
      background: #fff;
      padding: 1.5rem;
      border-radius: 8px;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .testimonial-card p {
      font-style: italic;
      margin-bottom: 1rem;
      color: #666;
      line-height: 1.6;
    }

    .testimonial-card h4 {
      font-size: 1.1rem;
      margin-bottom: 0.3rem;
      color: #333;
    }

    .testimonial-card span {
      color: #999;
      font-size: 0.85rem;
    }

    /* CTA Section */
    .cta-section {
      background: linear-gradient(135deg, var(--primary-color, #0a66c2), #0851a8);
      color: #fff;
      padding: 3rem 0;
      text-align: center;
      border-radius: 8px;
      margin: 2rem 0;
    }

    .cta-section h2 {
      font-size: 1.8rem;
      margin-bottom: 0.8rem;
    }

    .cta-section p {
      margin-bottom: 1.5rem;
      opacity: 0.95;
    }

    /* Footer */
    footer {
      background-color: #333;
      color: #fff;
      padding: 2rem 0;
      margin-top: 3rem;
      text-align: center;
      box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.05);
    }

    footer p {
      color: #999;
      font-size: 0.9rem;
    }

    .footer-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .footer-logo .logo {
      height: 40px;
      margin-bottom: 0.5rem;
    }

    .footer-logo p {
      color: #999;
      font-size: 0.9rem;
    }

    .footer-links h4, .footer-contact h4 {
      font-size: 1rem;
      margin-bottom: 0.8rem;
    }

    .footer-links ul {
      list-style: none;
    }

    .footer-links li {
      margin-bottom: 0.5rem;
    }

    .footer-links a, .footer-contact a {
      color: #999;
      text-decoration: none;
      transition: color 0.3s;
    }

    .footer-links a:hover, .footer-contact a:hover {
      color: var(--primary-color, #0a66c2);
    }

    .social-icons {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
    }

    .social-icons a {
      color: #fff;
      font-size: 1.3rem;
      transition: color 0.3s;
    }

    .social-icons a:hover {
      color: var(--primary-color, #0a66c2);
    }

    .footer-bottom {
      text-align: center;
      padding-top: 1.5rem;
      border-top: 1px solid #555;
      color: #999;
      font-size: 0.85rem;
    }
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid #444;
    }

    /* Notes Modal */
    .notes-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1000;
    }

    .notes-content {
      background: #fff;
      width: 90%;
      max-width: 500px;
      margin: 100px auto;
      padding: 20px;
      border-radius: 10px;
      position: relative;
    }

    .close-notes {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 1.5rem;
      cursor: pointer;
    }

    .notes-content h3 {
      margin-bottom: 15px;
    }

    #notesTextarea {
      width: 100%;
      height: 200px;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      resize: vertical;
    }

    #saveNotes {
      margin-top: 10px;
      width: 100%;
    }

    /* Login and Signup Modals */
    .login-modal, .signup-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      overflow-y: auto;
      overflow-x: hidden;
      padding: 20px 0;
    }

    .login-content, .signup-content {
      background: #eeeaea;
      width: 85%;
      max-width: 450px;
      margin: 30px auto;
      padding: 20px;
      border-radius: 13px;
      position: relative;
      max-height: calc(100vh - 60px);
      overflow-y: auto;
    }

    .close-login, .close-signup {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 1.5rem;
      cursor: pointer;
    }

    /* Styles from login/signup */
    .google-btn-container {
      display: flex;
      justify-content: center;
      margin: 20px 0;
    }
    .or-divider {
      text-align: center;
      margin: 20px 0;
      color: #666;
      position: relative;
    }
    .or-divider::before,
    .or-divider::after {
      content: '';
      position: absolute;
      top: 50%;
      width: 45%;
      height: 1px;
      background: #ccc;
    }
    .or-divider::before {
      left: 0;
    }
    .or-divider::after {
      right: 0;
    }
    .btn {
      display: inline-block;
      padding: 0.5rem 0.6rem;
      border-radius: 4px;
      text-decoration: none;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.3s, transform 0.2s;
      border: none;
      font-size: 1.0rem;
      background-color: dodgerblue;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .header {
        position: relative;
      }

      .header .container {
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: flex-start;
      }

      .logo-section {
        width: 100%;
        padding-bottom: 10px;
      }

      .nav-menu {
        display: none;
        flex-direction: column;
        width: 100%;
        background: #fff;
        position: fixed;
        top: 65px;
        left: 0;
        right: 0;
        padding: 1rem;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        gap: 0.5rem;
        max-height: calc(100vh - 65px);
        overflow-y: auto;
        z-index: 999;
      }

      .nav-menu.active {
        display: flex;
      }

      .nav-link {
        padding: 0.8rem 0;
        border-bottom: 1px solid #f0f0f0;
      }

      .hamburger {
        display: block;
      }

      .hero .container {
        flex-direction: column;
        text-align: center;
        gap: 1.5rem;
      }

      .hero-content h1 {
        font-size: 1.8rem;
      }

      .hero-content p {
        font-size: 1rem;
      }

      .cta-buttons {
        justify-content: center;
      }

      .hero-image {
        margin-top: 1rem;
      }

      .feature-grid,
      .testimonial-grid,
      .applications-scroller {
        grid-template-columns: 1fr;
      }

      .applications-scroller {
        animation: none;
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
      }

      .application-card {
        width: 100%;
        margin-right: 0;
      }

      .footer-grid {
        grid-template-columns: 1fr;
      }

      .features h2,
      .applications h2,
      .testimonials h2 {
        font-size: 1.5rem;
        margin-bottom: 1.5rem;
      }
    }

    @media (max-width: 480px) {
      .hero-content h1 {
        font-size: 1.5rem;
      }

      .hero-content p {
        font-size: 0.95rem;
      }

      .cta-buttons {
        flex-direction: column;
        gap: 0.8rem;
      }

      .btn {
        width: 100%;
        text-align: center;
      }

      .feature-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .nav-menu {
        top: 70px;
      }
    }
    
    /* Form styling for modals */
    .login-content .form-group,
    .signup-content .form-group {
      margin-bottom: 15px;
    }
    
    .login-content input,
    .signup-content input {
      width: 100%;
      padding: 10px;
      margin: 5px 0;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1rem;
    }
    
    .login-content button,
    .signup-content button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
    }
    
    .login-content h2,
    .signup-content h2 {
      margin-bottom: 20px;
      text-align: center;
    }
    
    .form-footer {
      text-align: center;
      margin-top: 15px;
      font-size: 0.95rem;
    }
    
    .form-footer a {
      color: #0a66c2;
      text-decoration: none;
      cursor: pointer;
    }
    
    .form-footer a:hover {
      text-decoration: underline;
    }

    /* Extra small devices (mobile) */
    @media (max-width: 480px) {
      .login-content, .signup-content {
        width: 95%;
        margin: 20px auto;
        padding: 15px;
        max-height: calc(100vh - 40px);
      }
      
      .close-login, .close-signup {
        top: 5px;
        right: 10px;
        font-size: 1.3rem;
      }
      
      .login-content h2,
      .signup-content h2 {
        font-size: 1.3rem;
        margin-bottom: 15px;
      }
      
      .login-content input,
      .signup-content input {
        font-size: 16px;
        padding: 12px;
      }
      
      .btn {
        font-size: 0.95rem;
        padding: 10px;
      }
    }
    
    .welcome-text {
      color: yellow;
      font-size: 1.0rem;
      font-weight: 600;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 1.5);
      animation: bouncingText 2s infinite; /* Applying the animation */
      font-family: 'Poppins', sans-serif;
      text-decoration: none;
    }
    .welcome-link {
      text-decoration: none;
    }
    @keyframes bouncingText {
        0%, 20%, 50%, 80%, 100% {
            transform: translateY(0);
        }
        40% {
            transform: translateY(-20px);
        }
        60% {
            transform: translateY(-10px);
        }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="container">
      <div class="logo-section">
        <a href="/">
          <img src="/images/logo-removebg-preview.png" alt="BookHive Logo" class="logo">
        </a>
        <!-- <% if (user) { %>
          <a href="/infographic" class="welcome-link">
            <div class="welcome-text">Welcome to BookHive, <%= user.username %></div>
          </a>
        <% } %> -->
      </div>
      <nav class="nav-menu">
        <% if (user) { %>
          <!-- <a href="/applications" class="nav-link"><i class="fas fa-th"></i> Applications</a> -->
          <a href="/news" class="nav-link"><i class="fas fa-newspaper"></i> News</a>
          <a href="/publications" class="nav-link"><i class="fas fa-book-open"></i> Publications</a>
          <a href="/bookhive" class="nav-link"><i class="fas fa-book"></i> BookHive</a>
          <a href="/community" class="nav-link"><i class="fas fa-comments"></i> Community</a>
          <a href="/notifications" class="nav-link"><i class="fas fa-bell"></i> Notifications</a>
          <a href="/logout" class="nav-link"><i class="fas fa-sign-out-alt"></i> Logout</a>
        <% } else { %>
          <a href="#" class="nav-link" id="loginLink"><i class="fas fa-sign-in-alt"></i> Login</a>
          <a href="#" class="nav-link btn-nav-signup" id="signupLink"><i class="fas fa-user-plus"></i> Sign Up</a>
        <% } %>
      </nav>
      <div class="hamburger">
        <i class="fas fa-bars"></i>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <h1>Welcome to <span class="highlight">BookHive</span></h1>
        <p>Your ultimate digital library to upload, organize, share, and read books seamlessly.</p>
        <div class="cta-buttons">
          <% if (!user) { %>
            <a href="#" class="btn btn-primary" id="getStarted">Get Started Now</a>
            <a href="#" class="btn btn-secondary" id="loginBtn">Login</a>
          <% } else { %>
            <a href="/bookhive" class="btn btn-primary">BookHive Library</a>
          <% } %>
        </div>
      </div>
      <div class="hero-image">
        <img src="/images/hero-books.png" alt="Digital Library Illustration">
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features" id="features">
    <div class="container">
      <h2>Why Choose BookHive?</h2>
      <div class="feature-grid">
        <a href="/upload" class="feature-card">
          <i class="fas fa-file-pdf fa-2x"></i>
          <h3>PDF Support</h3>
          <p>Upload and read PDF books effortlessly with our secure platform.</p>
        </a>
        <a href="/explore" class="feature-card">
          <i class="fas fa-share-alt fa-2x"></i>
          <h3>Share Books</h3>
          <p>Share your books publicly, privately, or with selected users.</p>
        </a>
        <a href="/library" class="feature-card">
          <i class="fas fa-book-reader fa-2x"></i>
          <h3>Built-in Reader</h3>
          <p>Read your books directly in the browser with our integrated PDF viewer.</p>
        </a>
        <a href="/pinned" class="feature-card">
          <i class="fas fa-thumbtack fa-2x"></i>
          <h3>Pin Favorites</h3>
          <p>Pin your favorite books for quick access anytime.</p>
        </a>
        <a href="/publications" class="feature-card">
          <i class="fas fa-comment-alt fa-2x"></i>
          <h3>Community Publications</h3>
          <p>Engage with the community through posts, likes, and comments.</p>
        </a>
        <a href="/news" class="feature-card">
          <i class="fas fa-bullhorn fa-2x"></i>
          <h3>Stay Updated</h3>
          <p>Get the latest news and book updates with BookHive News.</p>
        </a>
        <a href="/applications" class="feature-card">
          <i class="fas fa-cogs fa-2x"></i>
          <h3>Applications</h3>
          <p>Explore various applications to enhance your experience.</p>
        </a>
        <a p="AI Document Analyzer" class="feature-card">
          <i class="fas fa-book-open fa-2x"></i>
          <h3>AI Document Analyzer</h3>
          <p>AI Support For Easy Understanding Document & Questions With RealTime UseCase.</p>
        </a>
      </div>
    </div>
  </section>

<section class="applications" id="applications">
  <div class="container mx-auto mt-8 px-4">
    <h2 class="text-3xl font-bold mb-6 text-center">Explore Our Applications</h2>
    <% if (applications && applications.length > 0) { %>
      <div class="applications-container">
        <div class="applications-scroller">
          <% applications.forEach(app => { %>
            <a href="/applications/<%= app.id %>" class="application-card" aria-label="Open <%= app.name %> application">
              <img src="<%= app.iconPath %>" alt="<%= app.name %> Icon" class="app-icon" onerror="this.src='/images/logo-removebg-preview.png';">
              <h3><%= app.name %></h3>
              <p>Enhance your BookHive experience with <%= app.name %>.</p>
            </a>
          <% }) %>
        </div>
      </div>
    <% } else { %>
      <p class="text-center text-gray-600">No applications available at the moment.</p>
    <% } %>
  </div>
</section>

  <!-- Testimonials Section -->
  <section class="testimonials" id="testimonials">
    <div class="container">
      <h2>What Our Users Say</h2>
      <div class="testimonial-grid">
        <div class="testimonial-card">
          <p>"BookHive has transformed the way I manage my digital books. The built-in reader is fantastic!"</p>
          <h4>Jane Doe</h4>
          <span>Book Enthusiast</span>
        </div>
        <div class="testimonial-card">
          <p>"Sharing books with my study group has never been easier. BookHive is a game-changer."</p>
          <h4>John Smith</h4>
          <span>Student</span>
        </div>
        <div class="testimonial-card">
          <p>"The community features keep me engaged, and I love discovering new books daily."</p>
          <h4>Emily Brown</h4>
          <span>Reader</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Call-to-Action Section -->
  <section class="cta-section">
    <div class="container">
      <h2>Join BookHive Today</h2>
      <p>Start your journey with a vibrant community of book lovers.</p>
      <% if (!user) { %>
        <a href="#" class="btn btn-primary" id="signupFree">Sign Up Free</a>
      <% } else { %>
        <a href="/library" class="btn btn-primary">Go to Your Library</a>
      <% } %>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-logo">
          <img src="/images/logo-removebg-preview.png" alt="BookHive Logo" class="logo">
          <p>BookHive - Your digital library for seamless book management.</p>
        </div>
        <div class="footer-links">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="/news">News</a></li>
            <li><a href="/publications">Publications</a></li>
            <li><a href="/explore">Explore</a></li>
            <li><a href="/library">Library</a></li>
          </ul>
        </div>
        <div class="footer-contact">
          <h4>Contact Us</h4>
          <p>Email: <a href="mailto:bookhive.rsd@gmail.com">bookhive.rsd@gmail.com</a></p>
          <p>Follow us:</p>
          <div class="social-icons">
            <a href="https://x.com/BookHive_RSD"><i class="fab fa-twitter"></i></a>
            <a href="https://www.instagram.com/bookhive.rsd/"><i class="fab fa-instagram"></i></a>
            <a href="https://www.linkedin.com/in/bookhive-rsd"><i class="fab fa-linkedin"></i></a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>© 2025 BookHive. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Notes Modal -->
  <% if (user && note !== undefined) { %>
    <div class="notes-modal" id="notesModal">
      <div class="notes-content">
        <span class="close-notes">×</span>
        <h3>My Notes</h3>
        <textarea id="notesTextarea" placeholder="Write your notes here..."><%= note %></textarea>
        <button id="saveNotes" class="btn btn-primary">Save Notes</button>
      </div>
    </div>
  <% } %>

  <% if (!user) { %>
    <!-- Login Modal -->
    <div class="login-modal" id="loginModal">
      <div class="login-content">
        <span class="close-login">×</span>
        <h2>Login to Your Account</h2>
        <div class="google-btn-container">
          <a href="/auth/google" class="btn btn-google">
            <img src="/images/GoogleLogo.jpg" alt="Google Logo" style="width: 20px; vertical-align: middle; margin-right: 10px;">
            Sign In with Google
          </a>
        </div>
        <div class="or-divider">OR</div>
        <form action="/login" method="POST">
          <div class="form-group">
            <label for="login-email">Email</label>
            <input type="email" id="login-email" name="email" required>
          </div>
          <div class="form-group">
            <label for="login-password">Password</label>
            <input type="password" id="login-password" name="password" required>
          </div>
          <button type="submit" class="btn btn-primary">Login</button>
        </form>
        <p class="form-footer">
          Don't have an account? <a href="#" id="showSignup">Sign Up</a>
        </p>
      </div>
    </div>

    <!-- Signup Modal -->
    <div class="signup-modal" id="signupModal">
      <div class="signup-content">
        <span class="close-signup">×</span>
        <h2>Create an Account</h2>
        <div class="google-btn-container">
          <a href="/auth/google" class="btn btn-google">
            <img src="/images/GoogleLogo.jpg" alt="Google Logo" style="width: 20px; vertical-align: middle; margin-right: 10px;">
            Sign Up with Google
          </a>
        </div>
        <div class="or-divider">OR</div>
        <form action="/signup" method="POST" id="signupForm">
          <div class="form-group">
            <label for="signup-username">Username</label>
            <input type="text" id="signup-username" name="username" required>
          </div>
          <div class="form-group">
            <label for="signup-email">Email</label>
            <input type="email" id="signup-email" name="email" required>
            <div id="email-error" style="color: red; font-size: 0.8rem; height: 1rem; margin-top: 4px;"></div>
          </div>
          <div class="form-group">
            <label for="signup-password">Password</label>
            <input type="password" id="signup-password" name="password" required>
            <div id="password-error" style="color: red; font-size: 0.8rem; height: 1.2rem; margin-top: 4px;"></div>
          </div>
          <input type="hidden" name="profession" value="BookHive">
          <button type="submit" class="btn btn-primary">Sign Up</button>
        </form>
        <p class="form-footer">
          Already have an account? <a href="#" id="showLogin">Login</a>
        </p>
      </div>
    </div>
  <% } %>

  <!-- JavaScript -->
  <script>
    // Hamburger Menu Toggle
    const hamburger = document.querySelector('.hamburger');
    const navMenu = document.querySelector('.nav-menu');
    hamburger.addEventListener('click', () => {
      navMenu.classList.toggle('active');
      hamburger.innerHTML = navMenu.classList.contains('active') ? '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
    });
  </script>
  <% if (user && note !== undefined) { %>
  <script>
    // Notes Modal Functionality
    const notesModal = document.getElementById('notesModal');
    const notesTextarea = document.getElementById('notesTextarea');
    const saveNotesBtn = document.getElementById('saveNotes');
    const closeNotes = document.querySelector('.close-notes');

    // Open notes modal (can be triggered by a button or icon)
    document.addEventListener('keydown', (e) => {
      if (e.ctrlKey && e.key === 'n') {
        notesModal.style.display = 'block';
      }
    });

    // Close notes modal
    closeNotes.addEventListener('click', () => {
      notesModal.style.display = 'none';
    });

    // Save notes
    saveNotesBtn.addEventListener('click', () => {
      fetch('/notes/save', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ content: notesTextarea.value })
      })
      .then(res => res.json())
      .then(data => {
        if (data.success) {
          alert('Notes saved successfully!');
          notesModal.style.display = 'none';
        } else {
          alert('Failed to save notes.');
        }
      })
      .catch(err => console.error('Error saving notes:', err));
    });
  </script>
  <% } %>
  <% if (!user) { %>
  <script>
    // Login and Signup Modal Functionality
    const loginModal = document.getElementById('loginModal');
    const signupModal = document.getElementById('signupModal');
    const closeLogin = document.querySelector('.close-login');
    const closeSignup = document.querySelector('.close-signup');

    function showLogin() {
      loginModal.style.display = 'block';
    }

    function showSignup() {
      signupModal.style.display = 'block';
    }

    closeLogin.addEventListener('click', () => {
      loginModal.style.display = 'none';
    });

    closeSignup.addEventListener('click', () => {
      signupModal.style.display = 'none';
    });

    window.addEventListener('click', (e) => {
      if (e.target === loginModal) {
        loginModal.style.display = 'none';
      }
      if (e.target === signupModal) {
        signupModal.style.display = 'none';
      }
    });

    document.getElementById('loginLink').addEventListener('click', (e) => {
      e.preventDefault();
      showLogin();
    });

    document.getElementById('signupLink').addEventListener('click', (e) => {
      e.preventDefault();
      showSignup();
    });

    document.getElementById('getStarted').addEventListener('click', (e) => {
      e.preventDefault();
      showSignup();
    });

    document.getElementById('loginBtn').addEventListener('click', (e) => {
      e.preventDefault();
      showLogin();
    });

    document.getElementById('signupFree').addEventListener('click', (e) => {
      e.preventDefault();
      showSignup();
    });

    document.getElementById('showSignup').addEventListener('click', (e) => {
      e.preventDefault();
      loginModal.style.display = 'none';
      showSignup();
    });

    document.getElementById('showLogin').addEventListener('click', (e) => {
      e.preventDefault();
      signupModal.style.display = 'none';
      showLogin();
    });

    // Signup form validation
    const signupForm = document.getElementById('signupForm');
    if (signupForm) {
      const emailInput = document.getElementById('signup-email');
      const passwordInput = document.getElementById('signup-password');
      const emailError = document.getElementById('email-error');
      const passwordError = document.getElementById('password-error');
      
      emailInput.addEventListener('input', () => {
        if (emailError.textContent) emailError.textContent = '';
      });
      
      passwordInput.addEventListener('input', () => {
        if (passwordError.textContent) passwordError.textContent = '';
      });

      signupForm.addEventListener('submit', function(event) {
        let isValid = true;
        
        // Email validation
        const email = emailInput.value;
        const emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
        if (!email || !emailRegex.test(email)) {
          emailError.textContent = 'Please enter a valid email address.';
          isValid = false;
        } else {
          emailError.textContent = '';
        }

        // Password validation
        const password = passwordInput.value;
        const passwordRegex = /^(?=.*[A-Z])(?=.*\d).{8,}$/;
        if (!password || !passwordRegex.test(password)) {
          passwordError.textContent = 'Use 8+ chars with one uppercase & one number.';
          isValid = false;
        } else {
          passwordError.textContent = '';
        }
        
        if (!isValid) {
          event.preventDefault(); 
        }
      });
    }
  </script>
  <% } %>
  <script>
    // Socket.IO client-side code
    window.addEventListener('DOMContentLoaded', function() {
      if (typeof io === 'function') {
        const socket = io();

        // Update active users count in real-time
        socket.on('updateActiveUsers', (count) => {
          document.getElementById('activeUsers').textContent = count;
        });
      }
    });
  </script>
  <!-- Responsive Handler Script -->
  <script src="/js/responsive-handler.js"></script>
  <!-- Real-time Notifications Script -->
  <script src="/js/notifications-realtime.js"></script>
  <% if (user) { %>
    <span data-user-id="<%= user._id %>" style="display:none;"></span>
    <div data-notification-badge style="display:none; position: absolute; top: 10px; right: 10px; background: #ef4444; color: white; border-radius: 50%; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 12px;">0</div>
  <% } %>
</body>
</html>